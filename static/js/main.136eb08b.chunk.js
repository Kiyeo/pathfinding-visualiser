(this["webpackJsonpalgorithm-visualiser"]=this["webpackJsonpalgorithm-visualiser"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),i=n.n(o),c=n(9),a=n.n(c),s=(n(8),n(4)),u=n(2),l=n(3),d=(n(15),Object(o.forwardRef)((function(e,t){var n=e.row,o=e.col,i=e.isWall,c=e.isStart,a=e.isFinish,s=e.handleMouseDownForNode,u=e.handleMouseEnterForNode,l=(e.handleTouchMoveForNode,e.handleMouseUpForNode),d=e.displayWeight,f=e.isShowWeight,h=a?"node-finish":c?"node-start":i?"node-wall":"";return Object(r.jsx)("div",{id:"".concat(n,"-").concat(o),onPointerDown:function(){return s(n,o)},onPointerEnter:function(){return u(n,o)},onPointerUp:function(){return l()},onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:t,className:"node ".concat(h),children:c||a||d===1/0||f&&!i?"":d})})));n(16);function f(e){var t=e.type,n=e.handleFunction,o=e.disable,i=e.title,c=e.disabledTitle,a=e.isVisualising,s=e.isPostVisualise,u=t.replace("-"," ").replace(/(^\w{1})|(\s{1}\w{1})/g,(function(e){return e.toUpperCase()})),l="visualise"===t&&s&&!a?"Revisualise":"visualise"===t&&a?"Visualising":u,d="restore"===t&&o?c:"toggle-weights"!==t||o?"toggle-weights"===t&&o?c:"":i,f=a?"".concat(t," visualising loading"):s?"".concat(t," notify"):t;return Object(r.jsxs)("button",{shape:"round",title:d,className:f,disabled:o,onClick:function(){return n()},children:[a&&Object(r.jsx)("i",{className:"spinner"}),l]})}var h=n(5);function v(e,t,n,r){n.isVisited=!1,n.isWall=!1;var o=p(n,e),i=0,c=[];t.distance=0,t.cumulativeWeight=0,t.isWall=!1;for(var a=function(e){var t,n=[],r=Object(h.a)(e);try{for(r.s();!(t=r.n()).done;){var o,i=t.value,c=Object(h.a)(i);try{for(c.s();!(o=c.n()).done;){var a=o.value;n.push(a)}}catch(s){c.e(s)}finally{c.f()}}}catch(s){r.e(s)}finally{r.f()}return n}(e);;){g(a);var s=a.shift();if(!s.isWall){if(s.distance===1/0)return c;if(s.isVisited=!0,c.push(s),r&&o.length>1){var u,l=Object(h.a)(o);try{for(l.s();!(u=l.n()).done;){var d=u.value,f=d.row,v=d.col;s.row===f&&s.col===v&&s.isVisited&&i++}}catch(b){l.e(b)}finally{l.f()}if(i===o.length)return o.filter((function(e){return e.isVisited=!1})),c}else if(s===n)return c;w(s,e,r)}}}function g(e){e.sort((function(e,t){return e.distance-t.distance}))}function w(e,t,n){var r,o=p(e,t),i=Object(h.a)(o);try{for(i.s();!(r=i.n()).done;){var c=r.value;n?(c.distace===1/0||c.distance>c.displayWeight+e.cumulativeWeight)&&(c.distance=c.displayWeight+e.cumulativeWeight,c.cumulativeWeight=c.distance,c.previousNode=e):(c.distance=e.distance+1,c.previousNode=e)}}catch(a){i.e(a)}finally{i.f()}}function p(e,t){for(var n=[],r=e.row,o=e.col,i=[[0,1],[1,0],[0,-1],[-1,0]],c=t.length,a=t[0].length,s=0;s<i.length;s++){var u=i[s],l=r+u[0],d=o-u[1];l>=0&&l<c&&d>=0&&d<a&&!t[l][d].isWall&&n.push(t[l][d])}return n.filter((function(e){return!e.isVisited}))}n(17);var b,j,m,O,W,y,N,x=function(){var e=Object(o.useRef)(),t=Object(o.useRef)(),n=Object(o.useCallback)((function(){for(var n=[],r=0;r<b;r++){for(var o=[],c=0;c<j;c++)o.push(i(r,c)),r===O&&c===W&&(e.current={row:r,col:c}),r===y&&c===N&&(t.current={row:r,col:c});n.push(o)}return n}),[]),i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{row:O,col:W},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{row:y,col:N};return{row:e,col:t,isWall:n,isStart:e===o.row&&t===o.col,isFinish:e===i.row&&t===i.col,isVisited:!1,distance:1/0,previousNode:null,displayWeight:r,cumulativeWeight:r,isShowCumulativeWeight:!1}},c=Object(o.useState)((function(){return n()})),a=Object(l.a)(c,2),h=a[0],g=a[1],w=Object(o.useState)(!1),p=Object(l.a)(w,2),x=p[0],F=p[1],T=Object(o.useState)(!1),M=Object(l.a)(T,2),S=M[0],R=M[1],V=Object(o.useRef)([]),C=Object(o.useRef)([]),E=Object(o.useRef)(!1),P=Object(o.useRef)(!1),k=Object(o.useRef)([]),D=Object(o.useState)(!1),L=Object(l.a)(D,2),U=L[0],A=L[1],H=Object(o.useState)(!1),z=Object(l.a)(H,2),B=z[0],I=z[1],J=Object(o.useState)(!1),G=Object(l.a)(J,2),q=G[0],K=G[1],Q=Object(o.useRef)([]),X=Object(o.useRef)(!1);Object(o.useLayoutEffect)((function(){function e(){setTimeout((function(){b=window.innerHeight>480?10*Math.floor(.003*window.innerHeight):10,j=10*Math.floor(.003*window.innerWidth),m=2,O=Math.floor(.5*b),W=Math.floor(.25*j),y=Math.floor(.5*b),N=Math.floor(.75*j),g(n())}),500)}return window.addEventListener("resize",(function(){window.innerHeight>480&&e()})),e(),function(){return window.removeEventListener("resize",(function(){window.innerHeight>480&&e()}))}}),[n]);var Y=function(){A(!1),I(!1),K(!1)},Z=function(e,t,n){var r=e.slice(),o=r[t][n],i=Object(u.a)(Object(u.a)({},o),{},{displayWeight:null,isShowWeight:!1,isWall:!o.isWall});r[t][n]=i,g(r)},$=function(n,r,o){var i=n.slice(),c=i[r][o],a=B?e.current:t.current,l=B?"isStart":"isFinish",d=Object(u.a)(Object(u.a)({},c),{},Object(s.a)({isWall:c.isWall},l,!0)),f=i[a.row][a.col],h=Object(u.a)(Object(u.a)({},f),{},Object(s.a)({displayWeight:null===f.displayWeight&&P.current?Math.ceil(10*Math.random()):f.displayWeight},l,!1));i[r][o]=d,i[a.row][a.col]=h,B?e.current={row:r,col:o}:t.current={row:r,col:o},g(i)},_=function(t){var n=0;if(t[0].isStart)for(var r=function(e){n=e,k.current.push(setTimeout((function(){var n=t[e];C.current["".concat(n.row,"-").concat(n.col)].className="node node-shortest-path"}),50*e))},o=0;o<t.length;o++)r(o);else{var i=e.current.row,c=e.current.col;C.current["".concat(i,"-").concat(c)].className="node node-start"}k.current.push(setTimeout((function(){F(!1),R(!0)}),55*n))},ee=function(){S&&te(),F(!0);var n=h[e.current.row][e.current.col],r=h[t.current.row][t.current.col];V.current=v(h,n,r,P.current);var o=function(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t}(r);!function(e,t){for(var n=function(n){if(n===e.length)return k.current.push(setTimeout((function(){_(t)}),5*n)),{v:void 0};k.current.push(setTimeout((function(){var t=e[n],r=C.current["".concat(t.row,"-").concat(t.col)];P.current&&(r.innerText="".concat(t.cumulativeWeight)),r.className="node node-visited"}),5*n))},r=0;r<=e.length;r++){var o=n(r);if("object"===typeof o)return o.v}}(V.current,o)},te=function(){for(var n=S?e.current:{row:O,col:W},r=S?t.current:{row:y,col:N},o=0;o<V.current.length;o++){var i=V.current[o],c=C.current["".concat(i.row,"-").concat(i.col)];i.row===n.row&&i.col===n.col?(c.innerText="",c.className="node node-start"):i.row===r.row&&i.col===r.col?(c.innerText="",c.className="node node-finish"):((x||S)&&P.current?c.innerText="".concat(i.displayWeight):c.innerText="",c.className="node")}},ne=function(n,r){for(var o=[],c=e.current.row,a=e.current.col,s=t.current.row,u=t.current.col,l=0;l<b;l++){for(var d=[],f=0;f<j;f++){var h=C.current["".concat(l,"-").concat(f)];if(l===c&&f===a)d.push(i(c,a,!1,null,{row:c,col:a},{row:s,col:u})),h.innerText="",h.className="node node-start";else if(l===s&&f===u)d.push(i(s,u,!1,null,{row:c,col:a},{row:s,col:u})),h.innerText="",h.className="node node-finish";else{var v=n[l][f];d.push(i(l,f,v.isWall,v.isWall||X.current?null:r?v.displayWeight:Math.random()>.5?Math.ceil(10*Math.random()):1,{row:c,col:a},{row:s,col:u})),h.className=v.isWall?"node node-wall":"node"}}o.push(d)}return g(o),o};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"galaxy-fold-open-your-device",style:{display:"none"}}),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("div",{className:"button-container",style:{textAlign:"center",margin:"2rem auto"},children:[Object(r.jsx)(f,{type:"reset",handleFunction:function(){return function(){P.current=!1,k.current.forEach((function(e){clearTimeout(e)})),E.current=!0,F(!1),A(!1),R(!1);var e=n();g(e),te(),Q.current=[]}()}}),Object(r.jsx)(f,{type:"restore",handleFunction:function(){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];k.current.forEach((function(e){clearTimeout(e)})),F(!1),A(!1),R(!1),te(),ne(h,e)}(h)},disable:!(x||S),disabledTitle:"Restores state before the visualisation"}),Object(r.jsx)(f,{type:"toggle-weights",handleFunction:function(){return function(){if(P.current=!P.current,X.current=!X.current,X.current)ne(h,!1);else{for(var n=[],r=e.current.row,o=e.current.col,c=t.current.row,a=t.current.col,s=0;s<b;s++){for(var u=[],l=0;l<j;l++){var d=C.current["".concat(s,"-").concat(l)];if(s===r&&l===o)u.push(i(r,o,!1,null,{row:r,col:o},{row:c,col:a})),d.innerText="",d.className="node node-start";else if(s===c&&l===a)u.push(i(c,a,!1,null,{row:r,col:o},{row:c,col:a})),d.innerText="",d.className="node node-finish";else{var f=Q.current[s][l];u.push(i(s,l,f.isWall,h[s][l].isWall?null:f.displayWeight,{row:r,col:o},{row:c,col:a})),d.className=h[s][l].isWall?"node node-wall":"node"}}n.push(u)}g(n)}}()},disable:!Q.current.length||x||S}),Object(r.jsx)(f,{type:"generate-weights",handleFunction:function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];P.current=t,X.current=!1;var r=ne(e,n);P.current&&(Q.current=r)}(h,!0)},disable:x||S,title:"Generates random weights to each node. Click to toggle.",disabledTitle:"Can only reassign random weights on restore"}),Object(r.jsx)(f,{type:"visualise",handleFunction:function(){return ee()},disable:x,isVisualising:x,isPostVisualise:S})]}),Object(r.jsx)("div",{className:"grid",onMouseUp:function(){Y()},onMouseLeave:function(){Y()},style:{margin:"auto",display:"grid",gridTemplateColumns:"repeat(".concat(j,", ").concat(m,"rem)"),gridTemplateRows:"repeat(".concat(b,", ").concat(m,"rem)"),gap:"1px",width:"".concat(j*m,"rem"),touchAction:"none",fontFamily:"Alcubierre",fontSize:"1rem",color:"black",cursor:"pointer"},children:h.map((function(n){return n.map((function(n){var o=n.row,i=n.col,c=n.isWall,a=n.isStart,s=n.isFinish,u=n.isVisited,l=n.displayWeight,f=n.cumulativeWeight,v=n.isShowCumulativeWeight;return Object(r.jsx)(d,{ref:function(e){return C.current["".concat(o,"-").concat(i)]=e},handleMouseDownForNode:function(n,r){return function(n,r){A(!0),n!==e.current.row||r!==e.current.col||x||S?n!==t.current.row||r!==t.current.col||x||S?x||S||Z(h,n,r):K(!0):I(!0)}(n,r)},handleMouseEnterForNode:function(n,r){return function(n,r){(U||x)&&(B&&(n!==t.current.row||r!==t.current.col)||q&&(n!==e.current.row||r!==e.current.col)?$(h,n,r):x||S||Z(h,n,r))}(n,r)},handleMouseUpForNode:function(){return Y()},row:o,col:i,isWall:c,isStart:a,isFinish:s,isVisited:u,displayWeight:l,cumulativeWeight:f,isShowWeight:v},"".concat(o,"-").concat(i))}))}))})]})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),i(e),c(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root")),F()},8:function(e,t,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.136eb08b.chunk.js.map